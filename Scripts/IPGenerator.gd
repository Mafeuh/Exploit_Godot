class_name IPGenerator

static var _generated_host_ips = []
static var _rng := RandomNumberGenerator.new()

static func generate_host_ip(unique:bool = true):
	var host_ip = str(_rng.randi_range(1, 256), ".", _rng.randi_range(1, 256))
	if unique:
		while _generated_host_ips.has(host_ip):
			host_ip = str(_rng.randi_range(1, 256), ".", _rng.randi_range(1, 256))
	return host_ip
	
static func generate_client_ip(network: Network, unique:bool = true):
	var client_ip = str(_rng.randi_range(1, 256), ".", _rng.randi_range(1, 256))
	if unique:
		while network.claimed_client_ips.has(client_ip):
			client_ip = str(_rng.randi_range(1, 256), ".", _rng.randi_range(1, 256))
	return client_ip
